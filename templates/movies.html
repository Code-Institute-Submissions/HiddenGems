{% extends "base.html" %}
{% block content %}

<!-- Page is responsible for displaying most of the main site data with various different selections of movies. AKA the homepage -->
<header>
  <!-- Carousel image controllers -->
  <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
      <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner" role="listbox">
      <!-- Slide One - Set the background image for this slide in the line below -->
      <!-- Image credit to Abet Llacer from Pexels -->
      <div class="carousel-item active" style="background-image: url('static/img/single-camera.jpg')">
        <div class="carousel-caption">
          <h1 class="display-4">Welcome to Hidden Gems</h1>
          <p class="lead">Here you can submit and vote for lesser-known movie classics - We call them 'Gems'.</p>
        </div>
      </div>
      <!-- Slide Two - Set the background image for this slide in the line below -->
      <!-- Image credit to Anthony from Pexels -->
      <div class="carousel-item" style="background-image: url('static/img/vhs-image.jpg')">
        <div class="carousel-caption">
          <h1 class="display-4">What can I contribute here?</h1>
          <p class="lead">Sign up and add your Gems using the selections above</p>
        </div>
      </div>
      <!-- Slide Three - Set the background image for this slide in the line below -->
      <!-- Image credit to Free Creative Stuff on Pexels -->
      <div class="carousel-item" style="background-image: url('static/img/cameras2.jpg')">
        <div class="carousel-caption">
          <h1 class="display-4">Vote if you agree</h1>
          <p class="lead">Upvote the entries you agree with. You can also search for something specific using 'Search' above.</p>
        </div>
      </div>
    </div>
    <!-- Carousel control previous arrow -->
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <!-- Carousel control next arrow -->
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</header>

<div class="gems-title-div">
  <h2 class="gems-title">Our Current Gems</h2>
  <hr class="block-divider block-divider-bottom-margin">
</div>

<!-- New Category -->
<div class="top-content">
  <h2 class="category-title">New</h2>
</div>
<div class="deck-wrapper">
  <div class="card-deck">
    <!-- Sort by movie ID - latest one first -->
    {% for movie in movies|sort(attribute='_id', reverse = True) %}
      <!-- Select first five movies -->
      {% if loop.index <= 5 %}
        <div class="card flex-row flex-wrap card-entry ">
          <div class="card-header border-0 ">
            <!-- Movie image -->
            <img class="thumbnail-image" src="{{ movie.movie_image }}" alt="Main image for {{ movie.movie_name }}">
          </div>
          <div class="card-block px-2">
            <!-- Movie Name -->
            <h3 class="card-title">{{ movie.movie_name }}</h3>
            <!-- Movie Category -->
            <p class="card-text">{{ movie.category_name }}</p>
            <!-- Movie upvote rating -->
            <span class="card-text">Gem Rating: </span>
            <span class="card-text rating{{ movie._id }}">{{ movie.movie_rating }}</span>
            <!-- Break to ensure line split between spans -->
            <br>
            <!-- Upvote call to action and button -->
            <span class="card-text">Click to Agree! </span><button class="agree-button" data-id="{{ movie._id }}" name="agree-button" aria-label="upvote button"><i class="fa fa-thumbs-up"></i></button>
            <br>
            <!-- Link to More Details -->
            <a href="{{ url_for('movie_details', movie_id=movie._id) }}" class="btn btn-sm btn-success">More Details</a>
          </div>
        </div>
      {% endif %}
    {% endfor %}
  </div>
</div>
      
<div class="see-more-container">
  <!-- See More button and dropdown -->
  <button class="btn see-more-btn" type="button" data-toggle="collapse" data-target="#collapseNew" aria-expanded="false" aria-controls="collapseNew">
    See More
  </button>
</div>
<!-- Next five New movies -->
<div class="collapse" id="collapseNew">
  <div class="card card-body ">
    <div class="card-deck">
      <!-- Sort by _id in reverse order, newest first -->
      {% for movie in movies|sort(attribute='_id', reverse = True) %}
        <!-- Select next five movies -->
        {% if loop.index > 5 and loop.index <= 10 %}
          <div class="card flex-row flex-wrap card-entry ">
            <div class="card-header border-0 ">
              <!-- Movie Image -->
              <img class="thumbnail-image" src="{{ movie.movie_image }}" alt="Main image for {{ movie.movie_name }}">
            </div>
          <div class="card-block px-2">
            <!-- Movie Name -->
            <h3 class="card-title">{{ movie.movie_name }}</h3>
            <!-- Movie Category -->
            <p class="card-text">{{ movie.category_name }}</p>
            <!-- Movie upvote rating -->
            <span class="card-text">Gem Rating: </span>
            <span class="card-text rating{{ movie._id }}">{{ movie.movie_rating }}</span>
            <!-- Page break to ensure split between spans -->
            <br>
            <!-- Upvote call to action and button -->
            <span class="card-text">Click to Agree! </span><button class="agree-button" data-id="{{ movie._id }}" name="agree-button" aria-label="upvote button"><i class="fa fa-thumbs-up"></i></button>
            <br>
            <!-- Button for more details -->
            <a href="{{ url_for('movie_details', movie_id=movie._id) }}" class="btn btn-sm btn-success">More Details</a>
          </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</div>

<hr class="block-divider block-divider-bottom-margin">
<!-- Movies with the most upvotes -->
<div class="top-content">
  <h2 class="category-title">Highest Rated</h2>
</div>
<div class="deck-wrapper">
  <div class="card-deck">
    <!-- Select movies with the highest votes -->
    {% for movie in movies|sort(attribute='movie_rating', reverse = True) %}
      <!-- Select first five movies -->
      {% if loop.index <= 5 %}
        <div class="card flex-row flex-wrap card-entry ">
          <div class="card-header border-0">
            <!-- Movie image -->
            <img class="thumbnail-image" src="{{ movie.movie_image }}" alt="Main image for {{ movie.movie_name }}">
          </div>
          <div class="card-block px-2">
            <!-- Movie Name -->
            <h3 class="card-title">{{ movie.movie_name }}</h3>
            <!-- Movie Category -->
            <p class="card-text">{{ movie.category_name }}</p>
            <!-- Movie upvote rating -->
            <span class="card-text">Gem Rating: </span>
            <span class="card-text rating{{ movie._id }}">{{ movie.movie_rating }}</span>
            <!-- Page break to ensure split between spans -->
            <br>
            <!-- Upvote call to action and button -->
            <span class="card-text">Click to Agree! </span><button class="agree-button" data-id="{{ movie._id }}" name="agree-button" aria-label="upvote button"><i class="fa fa-thumbs-up"></i></button>
            <br>
            <!-- Link to more details -->
            <a href="{{ url_for('movie_details', movie_id=movie._id) }}" class="btn btn-sm btn-success">More Details</a>
          </div>
        </div>
      {% endif %}
    {% endfor %}
  </div>
</div>

<div class="see-more-container">
  <!-- See more button and dropdown -->
  <button class="btn see-more-btn" type="button" data-toggle="collapse" data-target="#collapseRated" aria-expanded="false" aria-controls="collapseRated">
    See More
  </button>
</div>
<!-- Next five Highest Rated movies -->
<div class="collapse" id="collapseRated">
  <div class="card card-body">
    <div class="card-deck">
      <!-- Select movies by number of upvotes -->
      {% for movie in movies|sort(attribute='movie_rating', reverse = True) %}
        <!-- Select next five movies -->
        {% if loop.index > 5 and loop.index <= 10 %}
          <div class="card flex-row flex-wrap card-entry ">
            <div class="card-header border-0">
              <!-- Movie Image -->
              <img class="thumbnail-image" src="{{ movie.movie_image }}" alt="Main image for {{ movie.movie_name }}">
            </div>
            <div class="card-block px-2">
              <!-- Movie Name -->
              <h3 class="card-title">{{ movie.movie_name }}</h3>
              <!-- Movie Category -->
              <p class="card-text">{{ movie.category_name }}</p>
              <!-- Movie upvote rating -->
              <span class="card-text">Gem Rating: </span>
              <span class="card-text rating{{ movie._id }}">{{ movie.movie_rating }}</span>
              <!-- Page break to ensure split between spans -->
              <br>
              <!-- Upvote call to action and button -->
              <span class="card-text">Click to Agree! </span><button class="agree-button" data-id="{{ movie._id }}" name="agree-button" aria-label="upvote button"><i class="fa fa-thumbs-up"></i></button>
              <br>
              <!-- Link to more details -->
              <a href="{{ url_for('movie_details', movie_id=movie._id) }}" class="btn btn-sm btn-success">More Details</a>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</div>
      
<hr class="block-divider block-divider-bottom-margin">

<!-- Selection of random movies from the database - controlled in app.py -->
<div class="top-content">
  <h2 class="category-title">Random</h2>
</div>
<div class="deck-wrapper">
  <div class="card-deck">
    <!-- Take from the selection of random movies -->
    {% for movie in random_movies %}
      <!-- Select first five -->
      {% if loop.index <= 5 %}
        <div class="card flex-row flex-wrap card-entry ">
          <div class="card-header border-0 ">
            <!-- Movie Image -->
            <img class="thumbnail-image" src="{{ movie.movie_image }}" alt="Main image for {{ movie.movie_name }}">
          </div>
          <div class="card-block px-2">
            <!-- Movie Name -->
            <h3 class="card-title">{{ movie.movie_name }}</h3>
            <!-- Movie Category -->
            <p class="card-text">{{ movie.category_name }}</p>
            <!-- Movie upvotes -->
            <span class="card-text">Gem Rating: </span>
            <span class="card-text rating{{ movie._id }}">{{ movie.movie_rating }}</span>
            <!-- Page break to ensure split beween the spans -->
            <br>
            <!-- Upvote call to action and button -->
            <span class="card-text">Click to Agree! </span><button class="agree-button" data-id="{{ movie._id }}" name="agree-button" aria-label="upvote button"><i class="fa fa-thumbs-up"></i></button>
            <br>
            <!-- Link to more details -->
            <a href="{{ url_for('movie_details', movie_id=movie._id) }}" class="btn btn-sm btn-success">More Details</a>
          </div>
        </div>
      {% endif %}
    {% endfor %}
  </div>
</div>

<!-- See more button and dropdown for Random -->
<div class="see-more-container">
  <button class="btn see-more-btn" type="button" data-toggle="collapse" data-target="#collapseRandom" aria-expanded="false" aria-controls="collapseRandom">
    See More
  </button>
</div>
<div class="collapse" id="collapseRandom">
  <div class="card card-body ">
    <div class="card-deck">
      <!-- Take from random movie list -->
      {% for movie in random_movies %}
        <!-- Select next five -->
        {% if loop.index > 5 and loop.index <= 10 %}
          <div class="card flex-row flex-wrap card-entry ">
            <div class="card-header border-0 ">
              <!-- Movie Image -->
              <img class="thumbnail-image" src="{{ movie.movie_image }}" alt="Main image for {{ movie.movie_name }}">
            </div>
            <div class="card-block px-2">
              <!-- Movie Name -->
              <h3 class="card-title">{{ movie.movie_name }}</h3>
              <!-- Movie Category -->
              <p class="card-text">{{ movie.category_name }}</p>
              <!-- Movie Upvotes -->
              <span class="card-text">Gem Rating: </span>
              <span class="card-text rating{{ movie._id }}">{{ movie.movie_rating }}</span>
              <!-- Page break to ensure split between the spans -->
              <br>
              <!-- Upvote call to action and button -->
              <span class="card-text">Click to Agree! </span><button class="agree-button" data-id="{{ movie._id }}" name="agree-button" aria-label="upvote button"><i class="fa fa-thumbs-up"></i></button>
              <br>
              <!-- Link to movie details -->
              <a href="{{ url_for('movie_details', movie_id=movie._id) }}" class="btn btn-sm btn-success">More Details</a>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</div>

<hr class="block-divider block-divider-bottom-margin">
<!-- Start Categories by Genre Here -->

<div class="top-content">
  <h2 class="category-title">Movies by Category</h2>
</div>
<div class="accordion" id="accordionCategories">
  <div class="card accordion-card">
    <div class="card-header" id="headingOne">
      <h2 class="mb-0">
        <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
          Action
        </button>
      </h2>
    </div>
  </div>
  <!-- 1 - Action Movies -->
  <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionCategories">
    <div class="card-body">
      <div class="deck-wrapper">
        <div class="card-deck">
          <!-- Select Movies by Genre - Action -->
          {% for movie in movies if movie.category_name == "Action" %}
            <!-- Select first five movies -->
            {% if loop.index <= 5 %}
              <div class="card flex-row flex-wrap card-entry " >
                <div class="card-header border-0">
                  <!-- Movie Image -->
                  <img class="thumbnail-image" src="{{ movie.movie_image }}" alt="Main image for {{ movie.movie_name }}">
                </div>
                <div class="card-block px-2">
                  <!-- Movie Name -->
                  <h3 class="card-title">{{ movie.movie_name }}</h3>
                  <!-- Movie Category -->
                  <p class="card-text">{{ movie.category_name }}</p>
                  <!-- Movie Upvotes -->
                  <span class="card-text">Gem Rating: </span>
                  <span class="card-text rating{{ movie._id }}">{{ movie.movie_rating }}</span>
                  <!-- Page break to ensure split between the spans -->
                  <br>
                  <!-- Upvote call to action and button -->
                  <span class="card-text" >Click to Agree! </span><button class="agree-button" data-id="{{ movie._id }}" name="agree-button" aria-label="upvote button"><i class="fa fa-thumbs-up"></i></button>
                  <br>
                  <!-- Link to more details -->
                  <a href="{{ url_for('movie_details', movie_id=movie._id) }}" class="btn btn-sm btn-success">More Details</a>
                </div>
              </div>
            {% endif %}
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
  </div>
  <!-- 2 - Comedy Movies -->
  <div class="card accordion-card">
    <div class="card-header" id="headingTwo">
      <h2 class="mb-0">
        <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
          Comedy
        </button>
      </h2>
    </div>
    <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionCategories">
      <div class="card-body">
        <div class="deck-wrapper">
          <div class="card-deck">
          <!-- Select movies where genre is Comedy -->
          {% for movie in movies if movie.category_name == "Comedy" %}
            <!-- Take first five movies -->
            {% if loop.index <= 5 %}
              <div class="card flex-row flex-wrap card-entry" >
                <div class="card-header border-0">
                  <!-- Movie Image -->
                  <img class="thumbnail-image" src="{{ movie.movie_image }}" alt="Main image for {{ movie.movie_name }}">
                </div>
                <div class="card-block px-2">
                  <!-- Movie Name -->
                  <h3 class="card-title">{{ movie.movie_name }}</h3>
                  <!-- Movie Category -->
                  <p class="card-text">{{ movie.category_name }}</p>
                  <!-- Movie Upvotes -->
                  <span class="card-text">Gem Rating: </span>
                  <span class="card-text rating{{ movie._id }}">{{ movie.movie_rating }}</span>
                  <!-- Page break to ensure split between the spans -->
                  <br>
                  <!-- Upvote call to action and button -->
                  <span class="card-text">Click to Agree! </span><button class="agree-button" data-id="{{ movie._id }}" name="agree-button" aria-label="upvote button"><i class="fa fa-thumbs-up"></i></button>
                  <br>
                  <!-- Link to movie details -->
                  <a href="{{ url_for('movie_details', movie_id=movie._id) }}" class="btn btn-sm btn-success">More Details</a>   
                </div>
              </div>
            {% endif %}
          {% endfor %}
        </div>
      </div>
    </div>
    </div>
  </div>
  <!-- 3 - Crime Movies-->
  <div class="card accordion-card">
    <div class="card-header" id="headingThree">
      <h2 class="mb-0">
        <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
          Crime
        </button>
      </h2>
    </div>
    <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionCategories">
      <div class="card-body">
        <div class="deck-wrapper">
          <div class="card-deck">
            <!-- Select movies where category is Crime -->
            {% for movie in movies if movie.category_name == "Crime" %}
              <!-- Select first five movies -->
              {% if loop.index <= 5 %}
                <div class="card flex-row flex-wrap card-entry" >
                  <div class="card-header border-0">
                    <!-- Movie Image -->
                    <img class="thumbnail-image" src="{{ movie.movie_image }}" alt="Main image for {{ movie.movie_name }}">
                  </div>
                  <div class="card-block px-2">
                    <!-- Movie Name -->
                    <h3 class="card-title">{{ movie.movie_name }}</h3>
                    <!-- Movie Category -->
                    <p class="card-text">{{ movie.category_name }}</p>
                    <!-- Movie Upvotes -->
                    <span class="card-text">Gem Rating: </span>
                    <span class="card-text rating{{ movie._id }}">{{ movie.movie_rating }}</span>
                    <!-- Page break to ensure split between the spans -->
                    <br>
                    <!-- Upvote call to action and button -->
                    <span class="card-text">Click to Agree! </span><button class="agree-button" data-id="{{ movie._id }}" name="agree-button" aria-label="upvote button"><i class="fa fa-thumbs-up"></i></button>
                    <br>
                    <!-- Link to more details -->
                    <a href="{{ url_for('movie_details', movie_id=movie._id) }}" class="btn btn-sm btn-success">More Details</a>
                  </div>
                </div>
              {% endif %}
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- 4 - Drama Movies -->
  <div class="card accordion-card">
    <div class="card-header" id="headingFour">
      <h2 class="mb-0">
      <!-- Title button and dropdown control -->
      <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
        Drama
      </button>
      </h2>
    </div>
    <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordionCategories">
      <div class="card-body">
        <div class="deck-wrapper">
          <div class="card-deck">
            <!-- Select movies where category is Drama -->
            {% for movie in movies if movie.category_name == "Drama" %}
              <!-- Select five movies -->
              {% if loop.index <= 5 %}
                <div class="card flex-row flex-wrap card-entry" >
                  <div class="card-header border-0">
                    <!-- Movie Image -->
                    <img class="thumbnail-image" src="{{ movie.movie_image }}" alt="Main image for {{ movie.movie_name }}">
                  </div>
                  <div class="card-block px-2">
                    <!-- Movie Name -->
                    <h3 class="card-title">{{ movie.movie_name }}</h3>
                    <!-- Movie Category -->
                    <p class="card-text">{{ movie.category_name }}</p>
                    <!-- Movie Upvotes -->
                    <span class="card-text">Gem Rating: </span>
                    <span class="card-text rating{{ movie._id }}">{{ movie.movie_rating }}</span>
                    <!-- Page break to ensure split between the spans -->
                    <br>
                    <!-- Upvote call to action and button -->
                    <span class="card-text">Click to Agree! </span><button class="agree-button" data-id="{{ movie._id }}" name="agree-button" aria-label="upvote button"><i class="fa fa-thumbs-up"></i></button>
                    <br>
                    <!-- Link to movie details -->
                    <a href="{{ url_for('movie_details', movie_id=movie._id) }}" class="btn btn-sm btn-success">More Details</a>
                  </div>
                </div>
              {% endif %}
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- 5 - Fantasy Movies -->
  <div class="card accordion-card">
    <div class="card-header" id="headingFive">
      <h2 class="mb-0">
      <!-- Category title and dropdown controls -->
      <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
        Fantasy
      </button>
      </h2>
    </div>
    <div id="collapseFive" class="collapse" aria-labelledby="headingFive" data-parent="#accordionCategories">
      <div class="card-body">
        <div class="deck-wrapper">
          <div class="card-deck">
            <!-- Select movies where category name is Fantasy -->
            {% for movie in movies if movie.category_name == "Fantasy" %}
              <!-- Select five movies -->
              {% if loop.index <= 5 %}
                <div class="card flex-row flex-wrap card-entry" >
                  <div class="card-header border-0">
                    <!-- Movie Image -->
                    <img class="thumbnail-image" src="{{ movie.movie_image }}" alt="Main image for {{ movie.movie_name }}">
                  </div>
                  <div class="card-block px-2">
                    <!-- Movie Name -->
                    <h3 class="card-title">{{ movie.movie_name }}</h3>
                    <!-- Movie Category -->
                    <p class="card-text">{{ movie.category_name }}</p>
                    <!-- Movie Upvotes -->
                    <span class="card-text">Gem Rating: </span>
                    <span class="card-text rating{{ movie._id }}">{{ movie.movie_rating }}</span>
                    <!-- Page break to ensure split between the spans -->
                    <br>
                    <!-- Upvote call to action and button -->
                    <span class="card-text">Click to Agree! </span><button class="agree-button" data-id="{{ movie._id }}" name="agree-button" aria-label="upvote button"><i class="fa fa-thumbs-up"></i></button>
                    <br>
                    <!-- Link to more details -->
                    <a href="{{ url_for('movie_details', movie_id=movie._id) }}" class="btn btn-sm btn-success">More Details</a>
                  </div>
                </div>
              {% endif %}
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- 6 - Historical Movies -->
  <div class="card accordion-card">
    <div class="card-header" id="headingSix">
      <h2 class="mb-0">
        <!-- Category title and dropdown controls -->
        <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
        Historical
        </button>
      </h2>
    </div>
    <div id="collapseSix" class="collapse" aria-labelledby="headingSix" data-parent="#accordionCategories">
      <div class="card-body">
        <div class="deck-wrapper">
          <div class="card-deck">
            <!-- Select movies where category name is Historical -->
            {% for movie in movies if movie.category_name == "Historical" %}
              <!-- Select five movies -->
              {% if loop.index <= 5 %}
                <div class="card flex-row flex-wrap card-entry" >
                  <div class="card-header border-0">
                    <!-- Movie Image -->
                    <img class="thumbnail-image" src="{{ movie.movie_image }}" alt="Main image for {{ movie.movie_name }}">
                  </div>
                  <div class="card-block px-2">
                    <!-- Movie Name -->
                    <h3 class="card-title">{{ movie.movie_name }}</h3>
                    <!-- Movie Category -->
                    <p class="card-text">{{ movie.category_name }}</p>
                    <!-- Movie Upvotes -->
                    <span class="card-text">Gem Rating: </span>
                    <span class="card-text rating{{ movie._id }}">{{ movie.movie_rating }}</span>
                    <!-- Page break to ensure split between the spans -->
                    <br>
                    <!-- Upvote call to action and button -->
                    <span class="card-text">Click to Agree! </span><button class="agree-button" data-id="{{ movie._id }}" name="agree-button" aria-label="upvote button"><i class="fa fa-thumbs-up"></i></button>
                    <br>
                    <!-- Link to more details -->
                    <a href="{{ url_for('movie_details', movie_id=movie._id) }}" class="btn btn-sm btn-success">More Details</a>
                  </div>
                </div>
              {% endif %}
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- 7 - Horror Movies -->
  <div class="card accordion-card">
    <div class="card-header" id="headingSeven">
      <h2 class="mb-0">
        <!-- Title and dropdown controls for category -->
        <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseSeven" aria-expanded="false" aria-controls="collapseSeven">
        Horror
        </button>
      </h2>
    </div>
    <div id="collapseSeven" class="collapse" aria-labelledby="headingSeven" data-parent="#accordionCategories">
      <div class="card-body">
        <div class="deck-wrapper">
          <div class="card-deck">
            <!-- Select movies where category is Horror -->
            {% for movie in movies if movie.category_name == "Horror" %}
              <!-- Select first five movies -->
              {% if loop.index <= 5 %}
                <div class="card flex-row flex-wrap card-entry" >
                  <div class="card-header border-0">
                    <!-- Movie Image -->
                    <img class="thumbnail-image" src="{{ movie.movie_image }}" alt="Main image for {{ movie.movie_name }}">
                  </div>
                  <div class="card-block px-2">
                    <!-- Movie Name -->
                    <h3 class="card-title">{{ movie.movie_name }}</h3>
                    <!-- Movie Category -->
                    <p class="card-text">{{ movie.category_name }}</p>
                    <!-- Movie Upvotes -->
                    <span class="card-text">Gem Rating: </span>
                    <span class="card-text rating{{ movie._id }}">{{ movie.movie_rating }}</span>
                    <!-- Page break to ensure split between the spans -->
                    <br>
                    <!-- Upvote call to action and button -->
                    <span class="card-text">Click to Agree! </span><button class="agree-button" data-id="{{ movie._id }}" name="agree-button" aria-label="upvote button"><i class="fa fa-thumbs-up"></i></button>
                    <br>
                    <!-- Link to more details -->
                    <a href="{{ url_for('movie_details', movie_id=movie._id) }}" class="btn btn-sm btn-success">More Details</a>
                  </div>
                </div>
              {% endif %}
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- 8 - Romance Movies -->
  <div class="card accordion-card">
    <div class="card-header" id="headingEight">
      <h2 class="mb-0">
        <!-- Category name and dropdown controls -->
        <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseEight" aria-expanded="false" aria-controls="collapseEight">
        Romance
        </button>
      </h2>
    </div>
    <div id="collapseEight" class="collapse" aria-labelledby="headingEight" data-parent="#accordionCategories">
      <div class="card-body">
        <div class="deck-wrapper">
          <div class="card-deck">
            <!-- Select movies where category name is Romance -->
            {% for movie in movies if movie.category_name == "Romance" %}
              <!-- Select first five movies -->
              {% if loop.index <= 5 %}
                <div class="card flex-row flex-wrap card-entry" >
                  <div class="card-header border-0">
                    <!-- Movie Image -->
                    <img class="thumbnail-image" src="{{ movie.movie_image }}" alt="Main image for {{ movie.movie_name }}">
                  </div>
                  <div class="card-block px-2">
                    <!-- Movie Name -->
                    <h3 class="card-title">{{ movie.movie_name }}</h3>
                    <!-- Movie Category -->
                    <p class="card-text">{{ movie.category_name }}</p>
                    <!-- Movie Upvotes  -->
                    <span class="card-text">Gem Rating: </span>
                    <span class="card-text rating{{ movie._id }}">{{ movie.movie_rating }}</span>
                    <!-- Page break to ensure split between the spans -->
                    <br>
                    <!-- Upvote call to action and button -->
                    <span class="card-text">Click to Agree! </span><button class="agree-button" data-id="{{ movie._id }}" name="agree-button" aria-label="upvote button"><i class="fa fa-thumbs-up"></i></button>
                    <br>
                    <!-- Link to more details -->
                    <a href="{{ url_for('movie_details', movie_id=movie._id) }}" class="btn btn-sm btn-success">More Details</a>
                  </div>
                </div>
              {% endif %}
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- 9 - Science Fiction movies-->
  <div class="card accordion-card">
    <div class="card-header" id="headingNine">
      <h2 class="mb-0">
        <!-- Category dropdown controls and title -->
        <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseNine" aria-expanded="false" aria-controls="collapseNine">
        Science Fiction
        </button>
      </h2>
    </div>
    <div id="collapseNine" class="collapse" aria-labelledby="headingNine" data-parent="#accordionCategories">
      <div class="card-body">
        <div class="deck-wrapper">
          <div class="card-deck">
            <!-- Select movies where category name is Science Fiction -->
            {% for movie in movies if movie.category_name == "Science Fiction" %}
              <!-- Select first five movies -->
              {% if loop.index <= 5 %}
                <div class="card flex-row flex-wrap card-entry" >
                  <div class="card-header border-0">
                    <!-- Movie Image -->
                    <img class="thumbnail-image" src="{{ movie.movie_image }}" alt="Main image for {{ movie.movie_name }}">
                  </div>
                  <div class="card-block px-2">
                    <!-- Movie Name -->
                    <h3 class="card-title">{{ movie.movie_name }}</h3>
                    <!-- Movie Category -->
                    <p class="card-text">{{ movie.category_name }}</p>
                    <!-- Movie Upvotes -->
                    <span class="card-text">Gem Rating: </span>
                    <span class="card-text rating{{ movie._id }}">{{ movie.movie_rating }}</span>
                    <!-- Page break to ensure split between the spans -->
                    <br>
                    <!-- Upvote call to action and button -->
                    <span class="card-text">Click to Agree! </span><button class="agree-button" data-id="{{ movie._id }}" name="agree-button" aria-label="upvote button"><i class="fa fa-thumbs-up"></i></button>
                    <br>
                    <!-- Link to more details -->
                    <a href="{{ url_for('movie_details', movie_id=movie._id) }}" class="btn btn-sm btn-success">More Details</a>
                  </div>
                </div>
              {% endif %}
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- 10 - Thriller movies -->
  <div class="card accordion-card">
    <div class="card-header" id="headingTen">
      <h2 class="mb-0">
        <!-- Category title and dropdown controls -->
        <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseTen" aria-expanded="false" aria-controls="collapseTen">
        Thriller
        </button>
      </h2>
    </div>
    <div id="collapseTen" class="collapse" aria-labelledby="headingTen" data-parent="#accordionCategories">
      <div class="card-body">
        <div class="deck-wrapper">
          <div class="card-deck">
            <!-- Select movies where category name is Thriller -->
            {% for movie in movies if movie.category_name == "Thriller" %}
              <!-- Select first five movies -->
              {% if loop.index <= 5 %}
                <div class="card flex-row flex-wrap card-entry" >
                  <div class="card-header border-0">
                    <!-- Movie Image -->
                    <img class="thumbnail-image" src="{{ movie.movie_image }}" alt="Main image for {{ movie.movie_name }}">
                  </div>
                  <div class="card-block px-2">
                    <!-- Movie Name -->
                    <h3 class="card-title">{{ movie.movie_name }}</h3>
                    <!-- Movie Category -->
                    <p class="card-text">{{ movie.category_name }}</p>
                    <!-- Movie Upvotes -->
                    <span class="card-text">Gem Rating: </span>
                    <span class="card-text rating{{ movie._id }}">{{ movie.movie_rating }}</span>
                    <!-- Page break to ensure split between the spans -->
                    <br>
                    <!-- Upvote call to action and button -->
                    <span class="card-text">Click to Agree! </span><button class="agree-button" data-id="{{ movie._id }}" name="agree-button" aria-label="upvote button"><i class="fa fa-thumbs-up"></i></button>
                    <br>
                    <!-- Link to more details -->
                    <a href="{{ url_for('movie_details', movie_id=movie._id) }}" class="btn btn-sm btn-success">More Details</a>
                  </div>
                </div>
              {% endif %}
            {% endfor %}
          </div>
        </div>
      </div>
  </div>
  <!-- 11 - Western Movies -->
  <div class="card accordion-card">
    <div class="card-header" id="headingEleven">
      <h2 class="mb-0">
        <!-- Category title and dropdown controls -->
        <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseEleven" aria-expanded="false" aria-controls="collapseEleven">
        Western
        </button>
      </h2>
    </div>
    <div id="collapseEleven" class="collapse" aria-labelledby="headingEleven" data-parent="#accordionCategories">
      <div class="card-body">
        <div class="deck-wrapper">
          <div class="card-deck">
            <!-- Select movies where category name is Western -->
            {% for movie in movies if movie.category_name == "Western" %}
              <!-- Select first five movies -->
              {% if loop.index <= 5 %}
                <div class="card flex-row flex-wrap card-entry" >
                  <div class="card-header border-0">
                    <!-- Movie Image -->
                    <img class="thumbnail-image" src="{{ movie.movie_image }}" alt="Main image for {{ movie.movie_name }}">
                  </div>
                  <div class="card-block px-2">
                    <!-- Movie Name -->
                    <h3 class="card-title">{{ movie.movie_name }}</h3>
                    <!-- Movie Category -->
                    <p class="card-text">{{ movie.category_name }}</p>
                    <!-- Movie Upvotes -->
                    <span class="card-text">Gem Rating: </span>
                    <span class="card-text rating{{ movie._id }}">{{ movie.movie_rating }}</span>
                    <!-- Page break to ensure split between the spans -->
                    <br>
                    <!-- Upvote call to action and button -->
                    <span class="card-text">Click to Agree! </span><button class="agree-button" data-id="{{ movie._id }}" name="agree-button" aria-label="upvote button"><i class="fa fa-thumbs-up"></i></button>
                    <br>
                    <!-- Link to more details -->
                    <a href="{{ url_for('movie_details', movie_id=movie._id) }}" class="btn btn-sm btn-success">More Details</a>
                  </div>
                </div>
              {% endif %}
            {% endfor %}
          </div>
        </div>
      </div>
    </div> 
    <!-- 12 - Movies that don't fit into the above categories -->
    <div class="card accordion-card">
      <div class="card-header" id="headingTwelve">
        <h2 class="mb-0">
          <!-- Category title and dropdown controls -->
          <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseTwelve" aria-expanded="false" aria-controls="collapseTwelve">
          Other
          </button>
        </h2>
      </div>
      <div id="collapseTwelve" class="collapse" aria-labelledby="headingTwelve" data-parent="#accordionCategories">
        <div class="card-body">
          <div class="deck-wrapper">
            <div class="card-deck">
              <!-- Select movies where category name is Other -->
              {% for movie in movies if movie.category_name == "Other" %}
                <!-- Select first five movies -->
                {% if loop.index <= 5 %}
                  <div class="card flex-row flex-wrap card-entry" >
                    <div class="card-header border-0">
                      <!-- Movie Image -->
                      <img class="thumbnail-image" src="{{ movie.movie_image }}" alt="Main image for {{ movie.movie_name }}">
                    </div>
                    <div class="card-block px-2">
                      <!-- Movie Name -->
                      <h3 class="card-title">{{ movie.movie_name }}</h3>
                      <!-- Movie Category -->
                      <p class="card-text">{{ movie.category_name }}</p>
                      <!-- Movie Upvotes -->
                      <span class="card-text">Gem Rating: </span>
                      <span class="card-text rating{{ movie._id }}">{{ movie.movie_rating }}</span>
                      <!-- Page break to ensure split between the spans -->
                      <br>
                      <!-- Upvote call to action and button -->
                      <span class="card-text">Click to Agree! </span><button class="agree-button" data-id="{{ movie._id }}" name="agree-button" aria-label="upvote button"><i class="fa fa-thumbs-up"></i></button>
                      <br>
                      <!-- Link to more details -->
                      <a href="{{ url_for('movie_details', movie_id=movie._id) }}" class="btn btn-sm btn-success">More Details</a>
                    </div>
                  </div>
                {% endif %}
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}